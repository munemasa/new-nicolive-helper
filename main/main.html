<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>NicoLive Helper X-2</title>

  <link rel="stylesheet" href="../libs/external/bootstrap/bootstrap.css">
  <link rel="stylesheet" href="../libs/external/jquery-ui/jquery-ui.min.css">
  <link rel="stylesheet" href="../libs/external/jquery.contextMenu.css">
  <script src="../libs/external/jquery-3.2.1.min.js"></script>
  <script src="../libs/external/jquery-ui/jquery-ui.min.js"></script>
  <script src="../libs/external/jquery.contextMenu.js"></script>
  <script src="../libs/external/popper.js"></script>
  <script src="../libs/external/bootstrap/bootstrap.js"></script>
  <link rel="stylesheet" href="../libs/external/bootstrap/glyphicons.css">

  <link rel="stylesheet" href="main.css">
  <script src="../libs/utils.js"></script>
  <script src="../libs/nicoapi.js"></script>

  <script src="config.js"></script>
  <script src="datastruct.js"></script>
  <script src="windowmanage.js"></script>
  <script src="comm.js"></script>
  <script src="request.js"></script>
  <script src="comment.js"></script>
  <script src="main.js"></script>

</head>
<body>

<!------------ タブ名 ------------>
<header>
  <div class="margin-lr-4">
    <div class="btn-group">
      <button type="button" class="btn btn-sm btn-outline-secondary dropdown-toggle" data-toggle="dropdown"
              aria-haspopup="true" aria-expanded="false">
        <img id="icon-thumbnail" src="../icons/icon-16.png" style="width:16px; height:16px;">
      </button>
      <div class="dropdown-menu">
        <a id="mylist-manager" class="dropdown-item" href="#">マイリストマネージャー</a>
        <a id="save-comment" class="dropdown-item" href="#">コメントをファイルに保存</a>
        <div class="dropdown-divider"></div>
        <a id="close-window" class="dropdown-item" href="#">閉じる</a>
      </div>
    </div>
    <span id="community-id">co000000</span>
    <span id="live-title">[オフライン]</span>
    <span>放送主：<span id="live-caster">---</span></span>
  </div>

  <ul class="nav nav-tabs" role="tablist">
    <li class="nav-item">
      <a class="nav-link" data-toggle="tab" href="#tab-request" role="tab">
        リクエスト
        <span id="number-of-requests" class="badge badge-secondary">0</span>
      </a>
    </li>
    <li class="nav-item">
      <a class="nav-link" data-toggle="tab" href="#tab-stock" role="tab">
        ストック
        <span id="number-of-stocks" class="badge badge-secondary">0</span>
      </a>
    </li>
    <li class="nav-item">
      <a class="nav-link" data-toggle="tab" href="#tab-comment" role="tab">コメント</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" data-toggle="tab" href="#tab-history" role="tab">再生履歴</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" data-toggle="tab" href="#tab-debug" role="tab">デバッグ</a>
    </li>
  </ul>
</header>

<div class="tab-content">
  <!-- リクエスト -->
  <div class="tab-pane" id="tab-request" role="tabpanel">
    <div id="tab-request-body" class="margin-lr-4">
      <div class="form-inline">
        <div class="btn-group" style="margin-right:2px;">
          <button id="btn-shuffle-request" type="button" class="btn btn-outline-primary btn-sm">シャッフル</button>
          <button type="button" class="btn btn-outline-primary btn-sm dropdown-toggle dropdown-toggle-split"
                  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button>
          <div class="dropdown-menu">
            <a id="menu-sort-by-comment-no" class="dropdown-item" href="#"><span
                    class="glyphicon glyphicon-sort-by-order"></span> コメント番号順に並べ替え</a>
            <div class="dropdown-divider"></div>
            <a id="menu-remove-all-requests" class="dropdown-item" href="#"><span
                    class="glyphicon glyphicon-trash"></span> リクエストを全て削除</a>
          </div>
        </div>
        <input id="input-request-video" class="form-control form-control-sm" type="text" placeholder="動画ID..."
               style="flex:1;">
        <button id="btn-add-request" class="btn btn-sm btn-outline-primary">追加</button>
        <span id="total-request-time" style="margin-left:4px;">0分00秒</span>
      </div>
      <div class="flex1">
        <table id="request-table" class="table table-hover video-list">
          <tbody id="request-table-body">
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="tab-stock" role="tabpanel">
    <div id="tab-stock-body" class="margin-lr-4">
      <div class="form-inline">
        <div class="btn-group" style="margin-right:2px;">
          <button id="btn-shuffle-stock" type="button" class="btn btn-outline-primary btn-sm">シャッフル</button>
          <button type="button" class="btn btn-outline-primary btn-sm dropdown-toggle dropdown-toggle-split"
                  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button>
          <div class="dropdown-menu">

            <div class="dropdown-submenu">
              <a class="dropdown-item" href="#"><span
                      class="glyphicon glyphicon-sort-by-attributes"></span> 昇順</a>
              <div id="stock-sort-ascending-order" class="dropdown-menu">
                <a class="dropdown-item" href="#play">再生数</a>
                <a class="dropdown-item" href="#comment">コメント数</a>
                <a class="dropdown-item" href="#mylist">マイリスト数</a>
                <a class="dropdown-item" href="#length">再生時間</a>
                <a class="dropdown-item" href="#date">投稿日時</a>
                <a class="dropdown-item" href="#mylistrate">マイリスト率</a>
                <a class="dropdown-item" href="#title">タイトル</a>
                <!--<a class="dropdown-item" href="#">マイリスト登録日時</a>-->
                <!--<a class="dropdown-item" href="#">広告ポイント</a>-->
                <a class="dropdown-item" href="#bitrate">ビットレート</a>
              </div>
            </div>
            <div class="dropdown-submenu">
              <a class="dropdown-item" href="#"><span
                      class="glyphicon glyphicon-sort-by-attributes-alt"></span> 降順</a>
              <div id="stock-sort-descending-order" class="dropdown-menu">
                <a class="dropdown-item" href="#play">再生数</a>
                <a class="dropdown-item" href="#comment">コメント数</a>
                <a class="dropdown-item" href="#mylist">マイリスト数</a>
                <a class="dropdown-item" href="#length">再生時間</a>
                <a class="dropdown-item" href="#date">投稿日時</a>
                <a class="dropdown-item" href="#mylistrate">マイリスト率</a>
                <a class="dropdown-item" href="#title">タイトル</a>
                <!--<a class="dropdown-item" href="#">マイリスト登録日時</a>-->
                <!--<a class="dropdown-item" href="#">広告ポイント</a>-->
                <a class="dropdown-item" href="#bitrate">ビットレート</a>
              </div>
            </div>

            <div class="dropdown-divider"></div>
            <a id="menu-remove-played" class="dropdown-item" href="#"><span
                    class="glyphicon glyphicon-trash"></span> 再生済みを削除</a>
            <a id="menu-remove-all-stock" class="dropdown-item" href="#"><span
                    class="glyphicon glyphicon-trash"></span> ストックを全て削除</a>
          </div>
        </div>
        <div class="btn-group" title="マイリストから動画を追加します。">
          <button type="button" class="btn btn-outline-primary btn-sm dropdown-toggle" style="margin-right:2px;"
                  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            マイリスト
          </button>
          <div id="menu-stock-mylist" class="dropdown-menu" style="max-height:200px; overflow-y:auto;">
            <a class="dropdown-item" href="#" nico_grp_id="deflist">とりあえずマイリスト</a>
            <div class="dropdown-divider"></div>
          </div>
        </div>
        <div class="input-group input-group-sm" style="flex:1;">
          <input id="txt-stock-video-id" type="text" class="form-control" placeholder="動画ID..."
                 aria-describedby="basic-addon1">
          <span class="input-group-btn">
            <button id="btn-add-stock" class="btn btn-sm btn-outline-primary" type="button">追加</button>
          </span>
        </div>
        <span id="total-stock-time" style="margin-left:4px;">0分00秒</span>
      </div>
      <div class="flex1">
        <table id="stock-table" class="table table-hover video-list">
          <tbody id="stock-table-body">
          </tbody>
        </table>
      </div>
    </div>
  </div>


  <div class="tab-pane" id="tab-comment" role="tabpanel">
    <!-- コメント -->
    <div id="tab-comment-body" class="margin-lr-4">
      <div style="display:flex;">
        <select id="type-of-comment" class="custom-select">
          <option value="0" selected>運営</option>
          <option value="1">視聴者</option>
          <option value="2">BSP</option>
        </select>
        <div class="input-group" style="flex:1;">
          <input id="comment-command" class="form-control" type="text"
                 autocomplete="on" list="comment-command-autocomplete" placeholder="コマンド">
          <input id="txt-input-comment" class="form-control" name="comment" maxlength="1024"
                 autocomplete="on" list="comment-autocomplete"
                 placeholder="コメントを入力してください...">
          <div class="input-group-append">
            <button id="btn-send-comment" class="btn btn-outline-primary" type="button">送信</button>
          </div>
        </div>
        <datalist id="comment-command-autocomplete">
          <option value=""></option>
          <option value="">--- 放送者 ---</option>
          <option value="se1">se1</option>
          <option value="se2">se2</option>
          <option value="hidden">hidden</option>
          <option value="">--- 通常 ---</option>
          <option value="cyan big">cyan big</option>
          <option value="shita">shita</option>
          <option value="green shita small">green shita small</option>
          <option value="orange">orange</option>
          <option value="">--- プレミアム ---</option>
          <option value="marineblue">marineblue</option>
          <option value="passionorange">passionorange</option>
          <option value="elementalgreen ue">elementalgreen ue</option>
          <option value="truered shita small">truered shita small</option>
          <option value="niconicowhite big">niconicowhite big</option>
        </datalist>
        <datalist id="comment-autocomplete">
        </datalist>
      </div>
      <div id="comment-view" class="flex1">
        <table id="comment-table">
        </table>
      </div>
    </div>
  </div>
  <div class="tab-pane" id="tab-history" role="tabpanel">
    再生履歴
  </div>
  <div class="tab-pane" id="tab-debug" role="tabpanel">
    デバッグ
    <div style="display: flex; flex-direction:column;">
      <div style="flex:1; border: #e83e8c 2px solid;">
        uppper
      </div>
      <div>
        lower
      </div>
    </div>
  </div>
</div>

<footer class="pl-2 pr-2" style="display:flex;">
  footer
  <div style="flex:1;"></div>
  <div class="mr-1">
    来 <span id="number-of-listeners">0</span>
  </div>
  <span id="live-progress" class="pl-1" style="border-left: 1px solid gray;">0:00</span>
</footer>


<!-- サムネイル表示 -->
<iframe id="iframe-thumbnail" width="312" height="0" src="about:blank" scrolling="no"
        style="display:none; opacity:0; border:solid 1px #CCC;float:left;position:fixed;bottom:30px;left:25px;"
        frameborder="0"></iframe>


<!-- 動画情報のテンプレート -->
<template id="template-video-info">
  <tr class="nico-video-row" style="border-bottom: 1px solid gray;">
    <td>
      <a class="nico-link" href="#" target="_blank">
        <div style="position:relative; float:left; margin-right:4px; margin-bottom: 2px;">
          <img class="nico-thumbnail" src="">
          <span class="nico-bitrate"></span>
        </div>
      </a>
      <div class="nico-title"></div>
      <div class="nico-video-prop"></div>
      <div class="nico-details collapse">
        <hr>
        <div class="nico-description"></div>
        <hr>
        <div class="nico-tags"></div>
      </div>
      <div class="btn-toolbar" style="clear:left; margin-top:1px;" role="toolbar"
           aria-label="Toolbar with button groups">
        <div class="btn-group btn-group-sm mr-2" role="group" aria-label="First group">
          <button type="button" class="btn btn-outline-primary btn-sm" function="play">
            <span class="glyphicon glyphicon-play"></span> 再生
          </button>
          <button type="button" class="btn btn-outline-primary btn-sm" function="move_up">
            <span class="glyphicon glyphicon-arrow-up"></span>
          </button>
          <button type="button" class="btn btn-outline-primary btn-sm" function="move_down">
            <span class="glyphicon glyphicon-arrow-down"></span>
          </button>
          <button type="button" class="btn btn-outline-primary btn-sm" function="prepare">
            <span class="glyphicon glyphicon-import"></span> 先読み
          </button>
        </div>
        <div class="btn-group btn-group-sm mr-2" role="group" aria-label="Second group">
          <button type="button" class="btn btn-outline-secondary btn-sm" function="move_top">
            <span class="glyphicon glyphicon-arrow-up"></span>
            <span class="glyphicon glyphicon-arrow-up"></span>
          </button>
          <button type="button" class="btn btn-outline-secondary btn-sm" function="move_bottom">
            <span class="glyphicon glyphicon-arrow-down"></span>
            <span class="glyphicon glyphicon-arrow-down"></span>
          </button>
        </div>
        <div class="btn-group btn-group-sm" role="group" aria-label="Fourth group">
          <button class="btn btn-outline-info btn-nico-details" type="button" data-toggle="collapse"
                  data-target="#collapseExample"
                  aria-expanded="false" aria-controls="collapseExample">
            <span class="glyphicon glyphicon-list-alt" aria-hidden="true"></span>
            詳細
          </button>
        </div>
        <div style="flex:1;"></div>
        <div class="btn-group btn-group-sm mr-2" role="group" aria-label="Third group">
          <button type="button" class="btn btn-outline-danger btn-sm" function="remove">
            <span class="glyphicon glyphicon-remove"></span> 削除
          </button>
        </div>
        <div>
          <span class="nico-index">#1</span>
          <span class="nico-comment_no">C#1</span>
          <span class="nico-timing">+0:00</span>
        </div>
      </div>
    </td>
  </tr>
</template>

</body>
</html>